 <div class="container-fluid full-page">
      <div class="row">
        <div class="col-6 col-md-3 col-lg-2 bg-dark full-page">
          <% if user_signed_in? %>
            <p class="text-white mt-3">Signed in as <%= current_user.username %></p>
          <% end %>
          <h6 class="text-white my-3">Online Users</h6>
          <div class="left">
            <% @users.each do |user| %>
              <% if user.username != current_user.username and user.is_signed_in %>
                <p class="active-user bg-white" data-id="<%= user.id %>">
                  <span class="online-icon d-inline-block bg-success"></span>
                  <span class="username">@<%= user.username %></span>
                </p>
              <% end %>
            <% end %>
          </div>
        </div>
        <div class="col-6 col-md-9 col-lg-10 bg-light full-page right py-3">
          <%= current_user.email %>
          <%= link_to 'Log out', destroy_user_session_path, method: :delete, class: 'btn btn-warning d-inline-block float-right' %>
        </div>
      </div>
    </div>

<script>
$( document ).ready(function() {

    addLoggenInUser = (user) => {
      var logInHtml = '<p class="active-user bg-white" data-id="' + user.id +
        '" >' + '<span class="online-icon d-inline-block bg-success"></span>
          <span class="username">@' + user.username + '</span>
        </p>';
      $('.left').append(logInHtml);
    }

    removeLoggedOutUser = (user) => {
      user = $('[data-id="' + user.id + '"]');
      $(user).remove();
    }

    var pusher = new Pusher('<%= ENV["PUSHER_KEY"] %>', 
        cluster:    '<%= ENV["PUSHER_CLUSTER"] %>',
        encrypted:  true);
    var 
   

});

// $(document).ready =>
//       addLoggenInUser = (user) ->
//         $('.left').append """
//           <p class="active-user bg-white" data-id="#{user.id}">
//             <span class="online-icon d-inline-block bg-success"></span>
//             <span class="username">@#{user.username}</span>
//           </p>
//         """
//         return

//       removeLoggedOutUser = (user) ->
//         user = $ 'p[data-id=\'' + user.id + '\']'
//         $(user).remove()
//         return

//       pusher = new Pusher('<%= ENV["PUSHER_KEY"] %>',
//         cluster: '<%= ENV["PUSHER_CLUSTER"] %>'
//         encrypted: true)
//       channel = pusher.subscribe('activity')
//       channel.bind 'login', (data) ->
//         addLoggenInUser data
//       channel.bind 'logout', (data) ->
//         removeLoggedOutUser data
//         return
//       return

</script> %>
